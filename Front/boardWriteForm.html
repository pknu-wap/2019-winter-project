<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>게시판 등록 폼</title>
<style type="text/css">
	* {font-size: 12pt;}
	p {width: 930px; text-align: right;}
	table tbody tr th {background-color: gray;}
</style>
<script type="text/javascript">
	var xhr = new XMLHttpRequest();
	xhr.open('POST', './json_data.txt',true);
	function goUrl(url) {
		location.href=url;
	}
	function check() {
	if (document.f.store.value == "" || document.f.store.value == null) {
	alert("상호을 입력하세요.");
	document.f.store.focus();
               return;}
	else if (document.f.product.value == "" || document.f.product.value == null) {
	alert("상품을 입력하세요.");
	document.f.product.focus();
	return;}
	else if (document.f.price.value == "" || document.f.price.value == null) {
	alert("가격을 입력하세요.");
	document.f.price.focus();
	return;}
	else if (document.f.content.value == "" || document.f.content.value == null) {
	alert("할인내용을 입력하세요.");
	document.f.content.focus();
	return;}
	else if (document.f.end.value == "" || document.f.end.value == null) {
	alert("종료일시을 입력하세요.");
	document.f.enddate.focus();
	return;}
	else if (document.f.password.value == "" || document.f.password.value == null) {
	alert("비밀번호를 입력하세요.");
	document.f.password.focus();
	return;}
	else {json();}
	}
	var data =  new Object();
	function json(){
	data.store = document.f.store.value;
	data.product = document.f.product.value;
	data.content = document.f.content.value;
	data.price = document.f.price.value;
	data.startdate = document.f.start.value;
	data.enddate = document.f.end.value;
	data.password = document.f.password.value;
	xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
	xhr.send(JSON.stringify(data));
	xhr.onreadystatechange = function e()
		{
		if(xhr.readyState == 4)
			{
			if(xhr.status==200){console.log(this.responseText);goUrl('boardView.html');}
			else {console.log('Error!');}
			}
		}
	};
</script>
</head>
<body>
<form name=f method = post>
<table summary="게시판 등록">
		<caption>게시판 등록 폼</caption>
		<colgroup>
			<col width="150" />
		</colgroup>
		<tbody>
			<tr>
				<th align="center">상호명</th>
				<td><input type=text name=store id=store size=30/></td>
			</tr>
			<tr>
				<th align="center">상품명</th>
				<td><input type=text name=product id=product size=30/></td>
			</tr>
			<tr>
				<th align="center">행사내용</th>
				<td><input type=text name=content id=content size=30/></td>
			</tr>
			<tr>
				<th align="center">가격</th>
				<td><input type=number name=price id=price size=30/>원</td>
			</tr>
			<tr>
				<th align="center">시작일시(생략가능)</th>
				<td><input type=date name=startdate id=start size=60/></td>
			</tr>
			<tr>
				<th align="center">종료일시</th>
				<td><input type=date name=enddate id=end size=30/></td>
			</tr>
			<tr>
				<th align="center">비밀번호(글 수정시)</th>
				<td><input type=password name=password id=password size=30/></td>
			</tr>
		</tbody>
	</table>
	<p>
		<input type="button" value="목록" onclick="goUrl('boardList.html');" />
		<input type="button" value="등록" onclick="check()"/>
	</p>
</body>
</html>
